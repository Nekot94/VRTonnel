<html>
  <head>
    <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@d893cfacc335696c7183943eab8165100c3a6e1c/dist/aframe-master.min.js"></script>
    <!-- <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script> -->
    <!-- <script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras/dist/aframe-extras.min.js"></script>
    <!-- <script src="https://unpkg.com/aframe-svg-extruder@1.0.0/dist/index.min.js"></script> -->

    <!-- <script src="components/vr-move.js"></script> -->
    <script src="components/change-region.js"></script>
  </head>
  <body style="background-color: #000">
    <a-scene>
<!-- <a-scene color-space="sRGB" renderer="gammaOutput: true, physicallyCorrectLights: true"> -->
      <a-assets >
        <a-asset-item id="tonnel" src="models/t5b.gltf"></a-asset-item>
        <!-- <a-asset-item id="tonnel" src="models/t5a.gltf"></a-asset-item> -->

        <img id="maps" src="images/Inter.png">
        <img id="bgmap1" src="images/BG.png">

        <img id="bgmap1" src="images/map/BG2.png">
        <img id="l1" src="images/map/l1.png">
        <img id="l2" src="images/map/l2.png">
        <img id="l3" src="images/map/l3.png">
        <img id="map1" src="images/map/map1.png">
        <img id="map2" src="images/map/map2.png">
        <img id="map3" src="images/map/map3.png">
        <img id="map4" src="images/map/map4.png">
        <img id="map5" src="images/map/map5.png">
        <img id="map6" src="images/map/map6.png">
        <img id="map6" src="images/map/map7.png">
        <img id="r01" src="images/map/r0.png">
        <img id="r11" src="images/map/r1.png">
        <img id="r12" src="images/map/r2.png">




        <!-- test svg -->
        <!-- <a-asset-item id="mozilla" src="images/biohazard.svg"></a-asset-item> -->
      </a-assets>

  
      <!-- TONNEL -->
      <a-entity id="ton" gltf-model="#tonnel" scale="0.8 0.8 0.8" position = "0 0 80" >
    
        <!-- MAP -->
        <!-- <a-plane src="#maps"  transparent="true" width="1.920" height="1.080" scale="5 5 0" position="0 3.5 -116"></a-plane> -->
        
        <a-entity scale="1.6 1.6 1.6" position="0 0.7 -115">
          <a-plane src="#l1"  transparent="true" width="0.876" height="0.474" scale="0 0 0" position="-2.3 2.5 0" animation="property: scale; delay: 1000; from:0 0 0; to: 1 1 1; dur: 1000; easing: linear"></a-plane>
          <a-plane src="#l2"  transparent="true" width="0.987" height="0.270" scale="0 0 0" position="-2.3 2 0" animation="property: scale;  delay: 2000; from:0 0 0; to: 1 1 1; dur: 1000; easing: linear"></a-plane>
          <a-plane src="#l3"  transparent="true" width="0.980" height="1.287" scale="0 0 0" position="-2.3 1.1 0" animation="property: scale;  delay: 3000;from:0 0 0; to: 1 1 1; dur: 1000; easing: linear"></a-plane>

          <a-plane id="map" src="#map1"  transparent="true" width="1.750" height="1.634" scale="1.5 1.5 1.5" position="0 1.5 -0.2"
           animation__scale="property: scale; from:0 0 0; to: 1.6 1.6 1.6; dur: 2000; easing: easeInSine"
           animation__up="property: position; startEvents: up; to: 0 1.5 0.4; dur: 500; easing: easeInSine"
           animation__down="property: position;  startEvents: down; to: 0 1.5 -0.2; dur: 500; easing: easeInSine"      
           animation__fastdown="property: position;  startEvents: fastdown; to: 0 1.5 -0.4; dur: 100; easing: easeInSine"      
           >
            <a-plane class="interractible" position="0.45 0.04 0.02" visible="false" scale="0.176 0.11556 1" change-region="map: #map; number: 1"></a-plane>
            <a-plane class="interractible" position="-0.1 0.6 0.02"  visible="false" scale="0.176 0.11556 1" change-region="map: #map; number: 2"></a-plane>
            <a-plane class="interractible" position="0.16 -0.1 0.02"  visible="false" scale="0.176 0.11556 1" change-region="map: #map; number: 3"></a-plane>
            <a-plane class="interractible" position="0.1 0.09 0.02"  visible="false" scale="0.1 0.1 1" change-region="map: #map; number: 4"></a-plane>
            <a-plane class="interractible" position="0.09 0.27 0.02"  visible="false" scale="0.115 0.12 1" change-region="map: #map; number: 5"></a-plane>
            <a-plane class="interractible" position="-0.11 -0.18 0.02"  visible="false" scale="0.176 0.11556 1" change-region="map: #map; number: 6"></a-plane>
          </a-plane>

          <a-plane  id="r0" src="#r01"  transparent="true" width="1.143" height="0.480" scale="0 0 0" position="2.3 2.9 0" 
              animation__scale="property: scale; delay: 1500; from:0 0 0; to: 1 1 1; dur: 1000; easing: linear"
              animation__scaleev="property: scale; startEvents: scaleev; delay: 0; from:0 0 0; to: 1 1 1; dur: 1000; easing: linear"
              animation__tozero="property: scale; startEvents: tozero; to: 0 0 0; dur: 300; easing: linear"
              > 
          </a-plane>
          <a-plane id="r1"  src="#r11"  transparent="true" width="0.992" height="0.645" scale="0 0 0" position="2.3 2.2 0" 
              animation__scale="property: scale; delay: 2500; from:0 0 0; to: 1 1 1; dur: 1000; easing: linear"
              animation__scaleev="property: scale; startEvents: scaleev; delay: 1000; from:0 0 0; to: 1 1 1; dur: 1000; easing: linear"
              animation__tozero="property: scale; startEvents: tozero; to: 0 0 0; dur: 300; easing: linear"

              ></a-plane>
          <a-plane id="r2"  src="#r12"  transparent="true" width="0.993" height="1.404" scale="0 0 0" position="2.3 1.1 0"
               animation__scale="property: scale;  delay: 3500; from:0 0 0; to: 1 1 1; dur: 1000; easing: linear"
               animation__scaleev="property: scale; startEvents: scaleev; delay: 2000; from:0 0 0; to: 1 1 1; dur: 1000; easing: linear"
              animation__tozero="property: scale; startEvents: tozero; to: 0 0 0; dur: 300; easing: linear"
          ></a-plane>
        </a-entity>

        <a-plane src="#bgmap1"  width="2.820" height="1.160" scale="5.1 5.1 0" position="0 3.5 -116.4"></a-plane>
    
        <!-- LIGHTS -->
        <a-entity light="type: ambient; color: #4f6487;" ></a-entity>
        <a-entity light="type: directional; color: #4f6487; intensity: 1" position="-0.5 2 1"></a-entity>
        <a-light type="point" color="#94c6ff" distance="120" position="0 1 -6" intensity="0" animation="property: light.intensity; from: 0; to: 1; delay: 500; dur: 500" ></a-light>
        <a-light type="point" color="#94c6ff" distance="120" position="0 1 -80" intensity="0" animation="property: light.intensity; from: 0; to: 1; delay: 500; dur: 500" ></a-light>
        

      </a-entity>



       <!-- BACKGROUND  -->
       <a-sky color="#000"></a-sky> 



      <!-- CAMERA -->
      <a-entity id="cameraRig" movement-controls>
          <a-entity id="#head" camera look-controls position="0 1.8 0" cursor="rayOrigin: mouse; object: .interractible" ></a-entity>
          <!-- <a-entity teleport-controls="cameraRig: #cameraRig; button: trigger;"
          vive-controls="hand: left"
          oculus-touch-controls="hand: left"
          microsoft-motion-controls="hand: left"
          daydream-controls="left" gearvr-controls="left">
        </a-entity>
        <a-entity teleport-controls="cameraRig: #cameraRig; type: line; button: trigger;"
          vive-controls="hand: right"
          microsoft-motion-controls="hand: right"
          oculus-touch-controls="hand: right"
          daydream-controls="right" gearvr-controls="right"> -->
        <a-entity id="leftHand" hand-controls="hand: left; handModelStyle: highPoly; color: #94c6ff"></a-entity>
        <a-entity id="rightHand" hand-controls="hand: right; handModelStyle: highPoly; color: #94c6ff" laser-controls line="color: red; opacity: 0.75" raycaster="objects: .interractible"></a-entity>

        <a-entity id="choseHand"></a-entity>
      </a-entity>


      

    </a-scene>
  </body>
</html>